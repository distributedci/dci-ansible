{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "613a0b00_b817df14",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-08T10:27:22Z",
      "side": 1,
      "message": "This approach reproduces the exact output you\u0027d get from the ansible command line.\n\nAlso, I tested running the analyze_job script against my test jobs and I see the tasks containing warnings are named accordingly:\n\n # ls jobs/openshift-vanilla/2023-05-08T10\\:18\\:59.838685-f57b2419-6e49-4754-b19e-8e21ca032dfe/tasks/\n task0001.json  task0004-warn.json     task0007-failed.json  task0010.json  \ntask0013.json  task0016.json\n task0002.json  task0005-skipped.json  task0008.json         task0011.json  task0014.json\n task0003.json  task0006-skipped.json  task0009-failed.json  task0012.json  task0015.json\n \n Also, please, bear in mind there are to types of warnings, the regular ones plus the \"DEPRECATION WARNINGS\", and both should be highlighted in the CS.",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7efd395_b3561e6c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-05-08T20:49:52Z",
      "side": 1,
      "message": "Hey Nacho, I\u0027m glad the mob session was valuable ðŸ˜Ž, I think some testing is needed, could you please add some?",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae946593_fc66223e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-09T08:20:39Z",
      "side": 1,
      "message": "Hi Tony,\n\nThanks for your comments.\n\nI hope my responses are clear enough.\n\nI\u0027ll try to reproduce my 4 test cases (single task with warning, loop task with warning, single failed task with warning, loop failed task with warning) in BOS2 and link the results here.\n\nAlso, I\u0027m thinking that this changes actually deprecates my previous change in lines #117 and #129. I\u0027ll test that and update the code accordingly.",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c67471b0_855024c6",
        "filename": "callback/dci.py",
        "patchSetId": 6
      },
      "lineNbr": 87,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-05-08T20:49:52Z",
      "side": 1,
      "message": "nit: Use consistent docstrings as the rest of the code (double quotes instead of single)",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fe31f8ca_ee281ed5",
        "filename": "callback/dci.py",
        "patchSetId": 6
      },
      "lineNbr": 87,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-09T08:20:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c67471b0_855024c6",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "daa8dae6_41a9d7d9",
        "filename": "callback/dci.py",
        "patchSetId": 6
      },
      "lineNbr": 96,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-05-08T20:49:52Z",
      "side": 1,
      "message": "Do we still need the deprecated method in line 135?",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac3b206c_115518a6",
        "filename": "callback/dci.py",
        "patchSetId": 6
      },
      "lineNbr": 96,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-09T08:20:39Z",
      "side": 1,
      "message": "I believe there\u0027s some mistake here. What deprecated method do you mean?\n\nIf it\u0027s the original warning method, I got it removed.\n\nLine 135 is commented in your following message.",
      "parentUuid": "daa8dae6_41a9d7d9",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a11bcf1_666436fd",
        "filename": "callback/dci.py",
        "patchSetId": 6
      },
      "lineNbr": 96,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-05-09T18:55:36Z",
      "side": 1,
      "message": "Sorry, I meant line 145 in patchset 6, in this patchset is on line 140\n\n    def deprecated(self, *args, **kwargs):\n        pass",
      "parentUuid": "ac3b206c_115518a6",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93a391c8_50472f59",
        "filename": "callback/dci.py",
        "patchSetId": 6
      },
      "lineNbr": 96,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-10T08:03:28Z",
      "side": 1,
      "message": "good point. I\u0027d have to figure out a way to triggering a deprecation warning, but it looks like this is not needed either.",
      "parentUuid": "6a11bcf1_666436fd",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95544e90_018d4cb8",
        "filename": "callback/dci.py",
        "patchSetId": 6
      },
      "lineNbr": 96,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-10T12:36:36Z",
      "side": 1,
      "message": "Checked it and the function may be removed.\n\nHad to add a new test case to trigger deprecation warnings and add some extra logic to handle them.",
      "parentUuid": "93a391c8_50472f59",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b89bdc16_07fc544e",
        "filename": "callback/dci.py",
        "patchSetId": 6
      },
      "lineNbr": 135,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-05-08T20:49:52Z",
      "side": 1,
      "message": "I don\u0027t get the sue of _warn_prefix, what is it doing at the banner?",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d3df4ea_8c45e8b9",
        "filename": "callback/dci.py",
        "patchSetId": 6
      },
      "lineNbr": 135,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-09T08:20:39Z",
      "side": 1,
      "message": "I\u0027m using _warn_prefix as a flag to indicate that a warning message was found in the current task so, when processing the task\u0027s outputs:\n\n1. In _handle_warnings, if this is the first time this warning message is seen.\n\n2. the message is added to the current content.\n\n3. the _warn_prefix flag is enabled.\n\n4. When the next task starts, the banner function is called on the previous task so:\n\n5. If the _warn_prefix is enabled.\n\n6. The prefix \"warn/\" is added to the file name.\n\n7. The flag is disabled so we start to process the new task.\n\nThe request was to have the task file names using the warn/ prefix so the DCI UI will read the prefix and mark the affected tasks, either with an icon or a change in color.\n\nThis prefix is to be added on top of any other existing prefix, so a task can both be failed and contain a warning message, thus resulting in the task name \"failed/warn/TASK: this is a task\".",
      "parentUuid": "b89bdc16_07fc544e",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73258d44_758468dd",
        "filename": "callback/dci.py",
        "patchSetId": 6
      },
      "lineNbr": 135,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-05-09T18:55:36Z",
      "side": 1,
      "message": "Thanks for the detail, now I see its use, and is because banner runs on the next task so the state of the previous task needs to be saved in this _warn_prefix bool.",
      "parentUuid": "0d3df4ea_8c45e8b9",
      "revId": "d7d40d364e7af3363579835782aedff2049d1e38",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}