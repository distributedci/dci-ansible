{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a7395e38_7ebbab02",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 667
      },
      "writtenOn": "2022-10-03T22:09:37Z",
      "side": 1,
      "message": "Is the code truly doing a retry? or returning earlier?",
      "revId": "e5c29cc0dc43ccc03a9cb1fda8cb23b584501bea",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9cc8a2f_d5f402b3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 821
      },
      "writtenOn": "2022-10-03T22:14:20Z",
      "side": 1,
      "message": "the code returning earlier :)",
      "parentUuid": "a7395e38_7ebbab02",
      "revId": "e5c29cc0dc43ccc03a9cb1fda8cb23b584501bea",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df29bb2f_6604a286",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 667
      },
      "writtenOn": "2022-10-03T22:45:16Z",
      "side": 1,
      "message": "My bad, what I wanted to say is that it would be nice to have the explanation of why the change is needed and what is being accomplished.",
      "parentUuid": "b9cc8a2f_d5f402b3",
      "revId": "e5c29cc0dc43ccc03a9cb1fda8cb23b584501bea",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d029ea0_8bf6c834",
        "filename": "action_plugins/git.py",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 667
      },
      "writtenOn": "2022-10-03T22:45:16Z",
      "side": 1,
      "message": "I see this is helping when doing the retries from the outside, but seems like the  issue is with the way the error coming from the git module is being handled, or not :) as in this case.\n\nThis code seems to assume that module_return will always return \u0027after\u0027, but that\u0027s only true when the git module completes without issues.\n\nWouldn\u0027t it be better to check for the `failed` state in the module_return? Whenever there\u0027s an issue with the module `failed` will return true and a different structure will be included, in your test it is a bit different because you\u0027re doing it in a loop, but if you run it only once the structure I saw is like this:\n\n\n    {\n        \"changed\": false,\n        \"cmd\": [\n            \"/usr/bin/git\",\n            \"fetch\",\n            \"--tags\",\n            \"origin\"\n        ],\n        \"failed\": true,\n        \"msg\": \"Failed to download remote objects and refs:  remote: Repository not found.\\nfatal: Authentication failed for \u0027https://github.com/ansible/ansible-lint_foo.git/\u0027\\n\"\n    }",
      "revId": "e5c29cc0dc43ccc03a9cb1fda8cb23b584501bea",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}