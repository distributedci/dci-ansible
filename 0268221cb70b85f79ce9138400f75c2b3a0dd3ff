{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d4de902a_602de24c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 673
      },
      "writtenOn": "2022-08-29T08:58:52Z",
      "side": 1,
      "message": "Thanks!",
      "revId": "0268221cb70b85f79ce9138400f75c2b3a0dd3ff",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "51e642dc_9d0bc684",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2022-08-30T10:16:08Z",
      "side": 1,
      "message": "Hi Yassine and Charles, \n\nit seems like you\u0027re trying to upload the file that should never go in the logs.\nYou\u0027re testing with https://www.redhat.com/security/data/oval/v2/RHEL8/rhel-8.oval.xml.bz2 calling it \"chart file\". \nIt\u0027s not a chart file, it\u0027s an oval definition. \n\nIt\u0027s downloaded, unarchived, and then deleted, it should normally never make its path to the logs: https://github.com/redhat-cip/dci-openshift-app-agent/blob/master/roles/preflight/tasks/test_run_health_check.yml#L55-L61 \n\nI didn\u0027t find a link to the exact error you\u0027re trying to fix, but maybe a proper solution would be to add handlers/notify to ensure that this file is always deleted? ",
      "revId": "0268221cb70b85f79ce9138400f75c2b3a0dd3ff",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3988dab7_42d52208",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 673
      },
      "writtenOn": "2022-08-30T11:41:50Z",
      "side": 1,
      "message": "The test has been conclusive.\nThe playbook was trying to download a bin into a variable (that should not happen unless there is a mistake in the code, that\u0027s the case we are covering here). As exepected, a bin variable cannot be encoded as an \u0027utf-8\u0027 string but the callback plugin continue to run after this error and the rest of the tasks are display in the DCI ui.\n\nThen it fails because I have reused the pipeline made few months ago to test ansible vault.",
      "revId": "0268221cb70b85f79ce9138400f75c2b3a0dd3ff",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "965ad9e9_4b675e84",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 673
      },
      "writtenOn": "2022-08-30T11:43:50Z",
      "side": 1,
      "message": "I am used the oval definition because it is an archive file (so it is a binary file). It could have been any other archive.",
      "parentUuid": "51e642dc_9d0bc684",
      "revId": "0268221cb70b85f79ce9138400f75c2b3a0dd3ff",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "80fd74ea_ffd831b5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2022-08-30T13:25:41Z",
      "side": 1,
      "message": "Well, bz2 is not an archive, it\u0027s a bzip2-compressed executable. \n\nI\u0027m still not sure to understand the problem you\u0027re trying to fix here: https://www.distributed-ci.io/jobs/6f94ded5-4949-4920-98d2-d46f929c9f82/jobStates\n\nBut it seems like it\u0027s not related to the oscap-podman check, and the oval definition rhel-8.oval.xml.bz2 is used here as an impossible-to-encode-thing.",
      "parentUuid": "965ad9e9_4b675e84",
      "revId": "0268221cb70b85f79ce9138400f75c2b3a0dd3ff",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e378ac00_5c296fce",
        "filename": "callback/dci.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 20
      },
      "writtenOn": "2022-08-29T10:19:32Z",
      "side": 1,
      "message": "we\u0027ll have a strange string here as a return value. Should we fail instead?",
      "revId": "0268221cb70b85f79ce9138400f75c2b3a0dd3ff",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f2f597bf_f75e2da7",
        "filename": "callback/dci.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 29
      },
      "writtenOn": "2022-08-29T10:29:05Z",
      "side": 1,
      "message": "What do you mean by strange string ?\n\nThe goal is to not fail and let the callback plugin continue to create the upcoming files.",
      "parentUuid": "e378ac00_5c296fce",
      "revId": "0268221cb70b85f79ce9138400f75c2b3a0dd3ff",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ae43f95_b31156a0",
        "filename": "callback/dci.py",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 673
      },
      "writtenOn": "2022-08-29T11:55:54Z",
      "side": 1,
      "message": "In fact, the goal is to return a value that will be readable like an error message instead of a non understandable content (like a binary for example).",
      "parentUuid": "f2f597bf_f75e2da7",
      "revId": "0268221cb70b85f79ce9138400f75c2b3a0dd3ff",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}