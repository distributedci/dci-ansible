{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "18158e34_2b0cf8de",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 21
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-05-18T14:28:59Z",
      "side": 1,
      "message": "Added my comments, but I suggest you get input from Guillaume on this",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e98762cc_b7569a29",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 21
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-19T08:09:32Z",
      "side": 1,
      "message": "Hi, Jorge,\n\nThanks a lot for your comments. Please, check my responses below, but basically I wrote the code like that duplicating how they do it in the Ansible project.\n\nI agree the same results can be obtained with simpler code, but at the time I thought it\u0027d be better to follow their \"guidelines\".",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "53c722f1_da486b84",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 21
      },
      "lineNbr": 0,
      "author": {
        "id": 1440
      },
      "writtenOn": "2023-05-24T16:12:07Z",
      "side": 1,
      "message": "Hello Nacho,\n\nyou are not using self._warns, so you don\u0027t need to add this variable.\n\njust set a flag self._warn_prefix to change the task name once when there is a warning.\n\njust modify the content is enough\n\ncall the parent warning function like you did for the item loop\n\nThank you",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fefa504f_8743c568",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 21
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-05-24T23:23:32Z",
      "side": 1,
      "message": "I don\u0027t think using ansible patterns is a good idea, ansible has been around since python 2.7 so there\u0027s a lot of things that were good practices back then that aren\u0027t needed now",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c42ecdbf_b28583e3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 21
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T08:16:11Z",
      "side": 1,
      "message": "That\u0027s a good point. I\u0027ll update the code as per your suggestions.\n\nThanks.",
      "parentUuid": "fefa504f_8743c568",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "925f11cc_66f44b24",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 21
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T08:16:11Z",
      "side": 1,
      "message": "Hi Guillaume,\n\nI\u0027m not sure we have the same understanding here.\n\nThe idea behind the self._warns variable is to keep track of the warning message already printed, so the same warning message is not printed twice.\n\nThat\u0027s why in line #92 we check whether the warning message is already in self._warns and we only update the tasks content if it\u0027s not.",
      "parentUuid": "53c722f1_da486b84",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9a9b054_10cc9b9e",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 52,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-05-18T14:28:59Z",
      "side": 1,
      "message": "why use a dict? a list is enough for this case",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dbb977a9_bc27aab8",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 52,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-19T08:09:32Z",
      "side": 1,
      "message": "Yup, I agree with you, but I tried to reproduce the behavior in the Ansible own implementation:\n\nhttps://github.com/ansible/ansible/blob/19b85ff4151f0f9daf8d50d853d34d7961248865/lib/ansible/utils/display.py#LL503C1-L505C3",
      "parentUuid": "e9a9b054_10cc9b9e",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d824211d_fde7f3e0",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 52,
      "author": {
        "id": 1440
      },
      "writtenOn": "2023-05-24T16:12:07Z",
      "side": 1,
      "message": "you dont need to save the warning messages. you are not consuming the values\nyou can remove this variable",
      "range": {
        "startLine": 52,
        "startChar": 8,
        "endLine": 52,
        "endChar": 24
      },
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04b5cfad_e98179fd",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 52,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T08:16:11Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d824211d_fde7f3e0",
      "range": {
        "startLine": 52,
        "startChar": 8,
        "endLine": 52,
        "endChar": 24
      },
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "74ec2f80_750a86e4",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 52,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T13:03:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dbb977a9_bc27aab8",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60762ced_10c8bd7c",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 90,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-05-18T14:28:59Z",
      "side": 1,
      "message": "these 2 conditions are effectively the same, did you mean to test for len(res[\u0027warnings\u0027]) \u003e 0 ? Just leave `if \u0027warnings\u0027 in res:` because the following for loop already handles an empty list",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da48bc57_11884217",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 90,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-19T08:09:32Z",
      "side": 1,
      "message": "Same thing here. Just replicating Ansible\u0027s implementation:\n\nhttps://github.com/ansible/ansible/blob/19b85ff4151f0f9daf8d50d853d34d7961248865/lib/ansible/plugins/callback/__init__.py#LL286C6-L296C16",
      "parentUuid": "60762ced_10c8bd7c",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d32e1695_f4de4652",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 90,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T13:03:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da48bc57_11884217",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "652ed903_102096dc",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 94,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-05-18T14:28:59Z",
      "side": 1,
      "message": "this feels like golang to me, if you use a list you can do `if warning in self._warns`",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae99331a_c44c22cd",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 94,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-19T08:09:32Z",
      "side": 1,
      "message": "See my first comment.\nIt may be that you\u0027re right, though, and we can do with a simpler implementation.",
      "parentUuid": "652ed903_102096dc",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5509923c_80eea29a",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 94,
      "author": {
        "id": 1440
      },
      "writtenOn": "2023-05-24T16:12:07Z",
      "side": 1,
      "message": "not needed",
      "range": {
        "startLine": 94,
        "startChar": 24,
        "endLine": 94,
        "endChar": 48
      },
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f3c9740c_7f2c766a",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 94,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T08:16:11Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5509923c_80eea29a",
      "range": {
        "startLine": 94,
        "startChar": 24,
        "endLine": 94,
        "endChar": 48
      },
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "694829b5_41be1dc0",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 94,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T13:03:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ae99331a_c44c22cd",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d566febc_0a740de7",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 95,
      "author": {
        "id": 1440
      },
      "writtenOn": "2023-05-24T16:12:07Z",
      "side": 1,
      "message": "Don\u0027t set the variable in every loop.\nJust set the variable once when there is a warning.",
      "range": {
        "startLine": 95,
        "startChar": 24,
        "endLine": 95,
        "endChar": 48
      },
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a305e72e_1dc697a0",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 95,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T08:16:11Z",
      "side": 1,
      "message": "Actually, based on the condition in line #92 we only activate this variable when there\u0027s a new warning message. This is what we use in the banner function to enabled adding the \"warn/\" prefix to the task file name.",
      "parentUuid": "d566febc_0a740de7",
      "range": {
        "startLine": 95,
        "startChar": 24,
        "endLine": 95,
        "endChar": 48
      },
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9ccb1f1a_2e4f8cd6",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 95,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T13:03:17Z",
      "side": 1,
      "message": "As discussed, we\u0027ll keep the solution as it currently is. Otherwise the same warning message would be printed every time it occurred which is now how the default Ansible output works.",
      "parentUuid": "a305e72e_1dc697a0",
      "range": {
        "startLine": 95,
        "startChar": 24,
        "endLine": 95,
        "endChar": 48
      },
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bedad647_aabe687a",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 97,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-05-18T14:28:59Z",
      "side": 1,
      "message": "same observations as previous block",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b489e82_8ad506a5",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 97,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-19T08:09:32Z",
      "side": 1,
      "message": "Yup, same thing here.\n\nGiven that you mention it I\u0027d like to know your opinion. I\u0027d have rather go with simpler code, just like you described, but I was reluctant to think that the way the Ansible source code is written just follows the developer\u0027s own idiosyncrasy, but that they expected to get a better performance.",
      "parentUuid": "bedad647_aabe687a",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "64b02693_3f502729",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 97,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T13:03:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7b489e82_8ad506a5",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c1a09fc_534512fe",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 99,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-05-18T14:28:59Z",
      "side": 1,
      "message": "is the deprecation object different from a warning object? I don\u0027t know myself, just making sure, because the previous block you didn\u0027t handle warning.msg field and warning appears to be a string",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93925219_4b4b7c82",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 99,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-19T08:09:32Z",
      "side": 1,
      "message": "Yes, the deprecation warning is different, it contains the message plus the Ansible version when they plan to discontinue the feature.",
      "parentUuid": "6c1a09fc_534512fe",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "db27d634_ac940e21",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 99,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T13:03:17Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "93925219_4b4b7c82",
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a05d4a1_cbe0ecbd",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 131,
      "author": {
        "id": 1440
      },
      "writtenOn": "2023-05-24T16:12:07Z",
      "side": 1,
      "message": "prefix +\u003d \"warn/\"",
      "range": {
        "startLine": 131,
        "startChar": 16,
        "endLine": 131,
        "endChar": 41
      },
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "da76e93e_e82b9ad8",
        "filename": "callback/dci.py",
        "patchSetId": 21
      },
      "lineNbr": 131,
      "author": {
        "id": 789
      },
      "writtenOn": "2023-05-25T08:16:11Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "1a05d4a1_cbe0ecbd",
      "range": {
        "startLine": 131,
        "startChar": 16,
        "endLine": 131,
        "endChar": 41
      },
      "revId": "15cc430fdb9cacd46525437c840ab1fe1ebe03b1",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}